<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>餐廳選擇測驗</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body,
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #dfe9f3 0%, #ffffff 100%);
            color: #333;
            display: flex;
            justify-content: center;
            align-items: start;
            overflow-y: scroll;
        }

        .container {
            max-width: 800px;
            padding: 20px;
            text-align: center;
            margin-top: 40px;
        }

        .question {
            font-size: 1.8em;
            margin-bottom: 30px;
        }

        .options-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .label-left,
        .label-right {
            font-size: 1.2em;
            flex: 1;
        }

        .points-container {
            display: flex;
            gap: 10px;
            flex: 4;
            justify-content: center;
        }

        .point {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #e0e0e0;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }

        .point.selected {
            background-color: #007bff;
            transform: scale(1.2);
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            font-size: 1.2em;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #0056b3;
        }

        #result {
            margin-top: 20px;
            font-size: 1.5em;
            color: #007bff;
        }
    </style>
</head>
<body>
    <div class="container">
    <form id="surveyForm">
        <!-- Page 1 -->
        <div id="page1" class="page">
            <div class="question">你喜歡食物味道濃郁。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q1')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q1')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q1')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q1')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q1')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q1')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q1')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你偏好食材保持自然風味。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q2')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q2')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q2')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q2')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q2')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q2')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q2')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你經常選擇有多種香料的菜餚。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q3')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q3')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q3')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q3')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q3')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q3')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q3')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">濃厚的湯讓你很滿足。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q4')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q4')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q4')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q4')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q4')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q4')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q4')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">清淡的料理更符合你的口味。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q5')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q5')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q5')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q5')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q5')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q5')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q5')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你喜歡風味強烈的醬汁。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q6')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q6')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q6')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q6')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q6')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q6')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q6')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你更喜歡簡單輕柔的食材味道。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q7')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q7')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q7')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q7')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q7')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q7')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q7')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <button type="button" onclick="nextPage()">下一步</button>
        </div>
        
        <!-- Page 2: 價格因素 -->
       <div id="page2" class="page" style="display:none;">
            <div class="question">你願意為好食物支付更高的價格。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q8')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q8')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q8')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q8')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q8')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q8')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q8')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你認為價格高的食物品質會更好。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q9')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q9')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q9')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q9')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q9')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q9')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q9')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你覺得物有所值比便宜更重要。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q10')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q10')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q10')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q10')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q10')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q10')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q10')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">只要評價好，即使價格高，你也會選擇。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q11')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q11')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q11')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q11')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q11')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q11')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q11')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你會為特別的用餐體驗花更多錢。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q12')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q12')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q12')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q12')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q12')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q12')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q12')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你更傾向於選擇價格合理的餐廳，即使品質一般。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q13')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q13')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q13')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q13')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q13')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q13')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q13')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你覺得食物價格不應過高，最重要的是經濟實惠。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q14')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q14')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q14')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q14')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q14')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q14')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q14')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你不願意為一頓飯支付超出平時預算的費用。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q15')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q15')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q15')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q15')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q15')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q15')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q15')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <button type="button" onclick="nextPage()">下一步</button>
        </div>

        <!-- Page 3: 健康因素 -->
        <div id="page3" class="page" style="display:none;">
            <div class="question">你會選擇標有健康標籤的菜品。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q16')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q16')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q16')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q16')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q16')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q16')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q16')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">有機食品對你來說更有吸引力。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q17')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q17')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q17')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q17')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q17')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q17')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q17')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">即使味道不如其他選擇，你也會選擇卡路里低的餐點。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q18')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q18')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q18')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q18')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q18')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q18')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q18')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你喜歡多吃新鮮蔬菜。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q19')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q19')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q19')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q19')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q19')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q19')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q19')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你不太關心食物的健康標籤或卡路里。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q20')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q20')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q20')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q20')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q20')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q20')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q20')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你更在意食物的美味，而不是它是否健康。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q21')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q21')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q21')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q21')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q21')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q21')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q21')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">加工食品對你來說沒有什麼問題，只要好吃就行。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q22')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q22')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q22')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q22')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q22')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q22')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q22')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <button type="button" onclick="nextPage()">下一步</button>
        </div>
 <!-- Page 4: 地點因素 -->
        <div id="page4" class="page" style="display:none;">
            <div class="question">你願意花 1 小時的時間去一間特別的餐廳用餐。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q23')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q23')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q23')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q23')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q23')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q23')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q23')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你會為推薦的餐廳長途跋涉。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q24')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q24')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q24')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q24')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q24')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q24')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q24')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你更傾向選擇方便到達的餐廳。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q25')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q25')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q25')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q25')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q25')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q25')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q25')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">即使餐廳位置偏遠，只要提供特別的風味或體驗，你也會願意去。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q26')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q26')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q26')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q26')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q26')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q26')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q26')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">距離遠的餐廳對你來說是很大的不便。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q27')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q27')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q27')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q27')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q27')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q27')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q27')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你通常選擇距離近且方便的餐廳。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q28')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q28')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q28')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q28')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q28')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q28')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q28')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">餐廳的距離對你來說不是最重要的。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q29')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q29')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q29')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q29')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q29')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q29')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q29')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <div class="question">你不喜歡為了吃飯而花費太多時間在交通上。</div>
            <div class="options-container">
                <div class="label-left">非常不同意</div>
                <div class="points-container">
                    <div class="point" data-value="1" onclick="selectPoint(this, 'q30')"></div>
                    <div class="point" data-value="2" onclick="selectPoint(this, 'q30')"></div>
                    <div class="point" data-value="3" onclick="selectPoint(this, 'q30')"></div>
                    <div class="point" data-value="4" onclick="selectPoint(this, 'q30')"></div>
                    <div class="point" data-value="5" onclick="selectPoint(this, 'q30')"></div>
                    <div class="point" data-value="6" onclick="selectPoint(this, 'q30')"></div>
                    <div class="point" data-value="7" onclick="selectPoint(this, 'q30')"></div>
                </div>
                <div class="label-right">非常同意</div>
            </div>

            <button type="button" onclick="submitTest()">提交測驗</button>
        </div>
        </form>
    <div id="result"></div>
        <canvas id="barChart" width="400" height="400"></canvas>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
     <script>
        window.onload = function () {
    let currentPage = 1;

    // 下一頁的函數
    function nextPage() {
        document.getElementById(`page${currentPage}`).style.display = 'none';
        currentPage++;
        const nextPageElement = document.getElementById(`page${currentPage}`);
        if (nextPageElement) {
            nextPageElement.style.display = 'block';
        }
    }

    // 點擊選項時選擇該點
    function selectPoint(element, question) {
        // 取得所有該題目的點選項
        const allPoints = element.parentNode.querySelectorAll('.point');

        // 移除所有點的選擇狀態
        allPoints.forEach(point => point.classList.remove('selected'));

        // 添加選擇狀態到當前點
        element.classList.add('selected');

        // 將選擇的值存入表單中的隱藏輸入欄位
        let input = document.querySelector(`input[name="${question}"]`);
        if (!input) {
            input = document.createElement('input');
            input.type = 'hidden';
            input.name = question;
            document.getElementById('surveyForm').appendChild(input);
        }
        input.value = element.getAttribute('data-value');
    }

    // 提交測驗函數
    function submitTest() {
        // 禁用提交按鈕以防止重複點擊
        const submitButton = document.querySelector('button[onclick="submitTest()"]');
        submitButton.disabled = true;

        // 取得表單數據
        const formData = new FormData(document.getElementById("surveyForm"));
        const testData = {
            userId: "user123" // 用戶ID可以在這裡填寫實際的ID
        };

        for (let [key, value] of formData.entries()) {
            testData[key] = parseInt(value);
        }

        // 題目加權設計
        const questionWeights = {
            q1: 0.7, q2: 0.5, q3: 0.6, q4: 0.8, q5: 0.9, q6: 0.6, q7: 0.5,
            q8: 0.8, q9: 0.7, q10: 0.6, q11: 0.9, q12: 0.7, q13: 0.6, q14: 0.5,
            q15: 0.8, q16: 0.7, q17: 0.5, q18: 0.6, q19: 0.7, q20: 0.6, q21: 0.9,
            q22: 0.7, q23: 0.8, q24: 0.6, q25: 0.7, q26: 0.8, q27: 0.5, q28: 0.6
        };

        // 計算每個因素的得分
        let scores = {
            taste: 0,
            price: 0,
            health: 0,
            location: 0
        };
        let questionCount = {
            taste: 0,
            price: 0,
            health: 0,
            location: 0
        };

        // 分數累加
        for (let question in testData) {
            if (question.startsWith('q')) {
                const score = testData[question];
                const weight = questionWeights[question];

                if (['q1', 'q2', 'q3', 'q4', 'q5', 'q6', 'q7'].includes(question)) {
                    scores.taste += score * weight;
                    questionCount.taste++;
                } else if (['q8', 'q9', 'q10', 'q11', 'q12', 'q13', 'q14'].includes(question)) {
                    scores.price += score * weight;
                    questionCount.price++;
                } else if (['q15', 'q16', 'q17', 'q18', 'q19', 'q20', 'q21'].includes(question)) {
                    scores.health += score * weight;
                    questionCount.health++;
                } else if (['q22', 'q23', 'q24', 'q25', 'q26', 'q27', 'q28'].includes(question)) {
                    scores.location += score * weight;
                    questionCount.location++;
                }
            }
        }

        // 計算各因素的平均得分
        scores.taste = scores.taste / questionCount.taste;
        scores.price = scores.price / questionCount.price;
        scores.health = scores.health / questionCount.health;
        scores.location = scores.location / questionCount.location;

        // 排序得分並找出最高的兩個因素
        let sortedFactors = Object.keys(scores).sort((a, b) => scores[b] - scores[a]);

        // 顯示結果
        const resultText = `你的選餐廳考量是: ${sortedFactors.map(factor => translateFactor(factor)).join(' → ')}`;
        document.getElementById("result").innerText = resultText;

        // 顯示條狀圖
        displayBarChart(scores);

        // 準備發送到 Google Sheets 的數據
        const sheetData = {
            Timestamp: new Date().toISOString(),
            UserID: testData.userId,
            口味: scores.taste.toFixed(2),
            價格: scores.price.toFixed(2),
            健康: scores.health.toFixed(2),
            地點: scores.location.toFixed(2),
            Q1: testData.q1, Q2: testData.q2, Q3: testData.q3, Q4: testData.q4,
            Q5: testData.q5, Q6: testData.q6, Q7: testData.q7, Q8: testData.q8,
            Q9: testData.q9, Q10: testData.q10, Q11: testData.q11, Q12: testData.q12,
            Q13: testData.q13, Q14: testData.q14, Q15: testData.q15, Q16: testData.q16,
            Q17: testData.q17, Q18: testData.q18, Q19: testData.q19, Q20: testData.q20,
            Q21: testData.q21, Q22: testData.q22, Q23: testData.q23, Q24: testData.q24,
            Q25: testData.q25, Q26: testData.q26, Q27: testData.q27, Q28: testData.q28
        };

        // 發送數據到 Google Apps Script
        fetch('https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(sheetData)
        })
            .then(response => {
                if (!response.ok) {
                    throw new Error("伺服器回應失敗");
                }
                return response.json();
            })
            .then(data => {
                console.log("測驗結果已成功存儲: ", data);
                alert("測驗提交成功！");
            })
            .catch(error => {
                console.error("存儲測驗結果時出錯：", error);
                alert("存儲測驗結果時發生錯誤：" + error.message);
            })
            .finally(() => {
                // 恢復提交按鈕狀態
                submitButton.disabled = false;
            });
    }

    // 因素名稱翻譯
    function translateFactor(factor) {
        switch (factor) {
            case 'taste':
                return '口味';
            case 'price':
                return '價格';
            case 'health':
                return '健康';
            case 'location':
                return '地點';
            default:
                return '';
        }
    }

    // 顯示條狀圖
    function displayBarChart(scores) {
        const ctx = document.getElementById('barChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['口味', '價格', '健康', '地點'],
                datasets: [{
                    label: '因素得分',
                    data: [scores.taste, scores.price, scores.health, scores.location],
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    }

    // 將函數附加到全域範圍
    window.selectPoint = selectPoint;
    window.nextPage = nextPage;
    window.submitTest = submitTest;
};
    </script>
</body>

</html>
